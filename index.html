<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easypay Shop</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f1f1f1}
header{background:#ff9900;display:flex;align-items:center;padding:10px}
header h1{font-size:18px;margin:0 10px 0 0}
.search{flex:1}
.search input{width:100%;padding:8px;border:none;border-radius:4px}
.cart{margin-left:10px;font-weight:bold}
nav{background:#fff;display:flex;justify-content:space-around;padding:10px 0;box-shadow:0 1px 4px rgba(0,0,0,.1)}
nav a{text-decoration:none;color:#333;font-weight:bold;font-size:14px}
.banner{background:#fff;margin:10px;padding:15px;border-radius:8px;text-align:center}
.products{padding:10px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.card{background:#fff;border-radius:8px;padding:10px}
.card img{width:100%;height:140px;object-fit:cover;border-radius:6px}
.price{color:#e47911;font-weight:bold}
.old{text-decoration:line-through;font-size:12px;color:#777}
button{background:#ff9900;border:none;padding:8px;width:100%;border-radius:4px;font-weight:bold;margin-top:6px}
section{margin-bottom:15px}
.form{background:#fff;margin:10px;padding:15px;border-radius:8px}
input,select{width:100%;padding:8px;margin:6px 0}
footer{background:#222;color:#fff;text-align:center;padding:15px;font-size:14px}
.hidden{display:none}
</style>
</head>
<body>

<header>
<h1>Easypay Shop</h1>
<div class="search"><input placeholder="Search products, brands and categories"></div>
<div class="cart">ðŸ›’ <span id="cartCount">0</span></div>
</header>

<nav>
<a href="#">Home</a>
<a href="#">Categories</a>
<a href="#">Deals</a>
<a href="#login">Account</a>
</nav>

<section class="banner">
<h2>Lipa Mdogo Mdogo</h2>
<p>Buy now, pay small small via M-PESA</p>
</section>

<section class="products">
<h3>Top Deals</h3>
<div class="grid" id="productGrid">
  <!-- Products will load here from JSON -->
</div>
</section>

<script>
let cart = 0;
let total = 0;

function addToCart(price){
  cart++;
  total += price;
  document.getElementById('cartCount').innerText = cart;
  document.getElementById('checkout').classList.remove('hidden');
  document.getElementById('total').innerText = total;
}

// Load products from JSON
fetch('products.json')
  .then(response => response.json())
  .then(products => {
    const grid = document.getElementById('productGrid');
    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${p.image}" alt="${p.name}">
        <p>${p.name}</p>
        <p class="price">KSh ${p.price.toLocaleString()}</p>
        <p class="old">KSh ${p.oldPrice.toLocaleString()}</p>
        <button onclick="addToCart(${p.price})">Add to Cart</button>
      `;
      grid.appendChild(card);
    });
  })
  .catch(err => console.error('Error loading products:', err));
</script>

<section id="checkout" class="form hidden">
<h3>Checkout</h3>
<p>Total: <b>KSh <span id="total"></span></b></p>
<label>Payment Method</label>
<select id="paymentMethod">
<option value="mpesa">M-PESA (STK Push)</option>
<option value="card">Card</option>
<option value="paypal">PayPal</option>
</select>
<label>Lipa Mdogo Mdogo</label>
<select>
<option>Pay Full</option>
<option>Deposit 30% + installments</option>
</select>
<input id="phone" placeholder="Phone number (07XXXXXXXX)">
<button onclick="pay()">Pay Now</button>
</section>

<section id="login" class="form">
<h3>Account</h3>
<input placeholder="Email">
<input type="password" placeholder="Password">
<button>Login / Register</button>
</section>

<section class="form">
<h3>Admin Panel (Demo)</h3>
<p>Add products (backend required for live use)</p>
<input placeholder="Product name">
<input placeholder="Price">
<button>Add Product</button>
</section>

<footer>
<p>&copy; 2026 Easypay Shop</p>
<p>M-PESA | Cards | Pay Later | Kenya & International</p>
</footer>

<script>
let cart=0; let total=0;
function addToCart(price){
  cart++; total+=price;
  document.getElementById('cartCount').innerText = cart;
  document.getElementById('checkout').classList.remove('hidden');
  document.getElementById('total').innerText = total;
}
function pay(){
  const phone = document.getElementById('phone').value;
  const paymentMethod = document.getElementById('paymentMethod').value;
  alert('Payment request sent (Demo)');
}
</script>

</body>
</html>
